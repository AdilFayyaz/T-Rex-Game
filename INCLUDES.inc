DRAW_PIXEL MACRO X,Y,COL:=<0FH>
	.IF (X > 319)
		MOV X,319
	.ENDIF
	MOV CX,X
	MOV DX,Y
	
	MOV AL,COL
	MOV AH,0CH
		INT 10H
ENDM
DRAW_PIXELS MACRO X,Y
	ADD CX,X
	ADD DX,Y
	.IF (CX > 319)
		MOV CX,319
	.ENDIF
		INT 10H
ENDM
DRAW_LINE MACRO X,Y,LEN,DIR,COL
	MOV AX,LEN
	MOV BL,COL
	MOV BH,DIR
	MOV CX,X
	MOV DX,Y
	.IF (BH == 0)
		.WHILE (AX != 0)
			PUSH AX
			DRAW_PIXEL CX,DX,BL
			INC CX
			POP AX
			DEC AX
		.ENDW
	.ELSEIF (BH == 1)
		.WHILE (AX != 0)
			PUSH AX
			DRAW_PIXEL CX,DX,BL
			INC DX
			POP AX
			DEC AX
		.ENDW
	.ENDIF
ENDM
DRAW_BOX MACRO X1,Y1,X2,Y2,COL
	XOR AL,AL
	MOV DH,X2
	MOV DL,Y2
	MOV CH,X1
	MOV CL,Y1
	MOV BH,COL
	MOV AH,06H
	INT 10H
ENDM
DRAW_TRIANGLE MACRO X1,Y1,H,COL,SIZE:=<2>
	MOV AX,X1
	MOV BX,Y1
	XOR CX,CX
	MOV CH,COL
	MOV DX,BX
	ADD DX,H
	.WHILE (BX < DX)
		MOV SI,AX
		MOV DI,BX
		DRAW_LINE SI,DI,CL,0,CH
		INC BX
		DEC AX
		ADD CL,SIZE
	.ENDW
ENDM
DRAW_PIXEL_BOX MACRO X,Y,L,W,COL
	MOV BX,Y
	MOV DX,BX
	ADD DX,L
	MOV AX,X
	.WHILE(BX < DX)
		MOV SI,AX
		MOV DI,BX
		DRAW_LINE SI,DI,W,0,COL
		INC BX
	.ENDW
ENDM

MSET_CURSOR  MACRO X,Y
	MOV AH,02H
	MOV BH,0
	MOV DH,X
	MOV DL,Y
	INT 10H
ENDM

DISPLAY_1 MACRO 
	MOV DX,0
	MOV BX,10      
	MOV CX,0
	B12:  
		MOV DX,0
		DIV BX 
		PUSH DX
		ADD CX,1	
		CMP AX,0
		JNE B12
	JMP B23
	B23:  
		POP DX
		ADD DX,030H
		MOV AH,02H
		INT 21H
	LOOP B23            
ENDM


CLS_SCREEN MACRO 
	MOV AL,03H
	MOV AH,0
	INT 10H
ENDM

DISPLAY_SCORE MACRO S
	MSET_CURSOR 0,69
	LEA DX,STRING4
	MOV AH,09H
	INT 21H
	
	MSET_CURSOR 0,75
	MOV AX,S
	DISPLAY_1
ENDM

MDISPLAY_BOX MACRO X,Y,CBX
	.IF (Y >= 32 && Y<=46 && X == 9)
		DRAW_BOX 9,10,9,11,12H	
		DRAW_BOX 11,10,11,11,23
		DRAW_BOX 13,10,13,11,23
		.IF (CBX == 1)
			NAMES
			CALL INIT_GFX
			CALL MAIN_LOOP
			CALL SCREEN1
		.ENDIF
	.ENDIF
	.IF (Y>=32 && Y <= 46 && X == 11)
		DRAW_BOX 11,10,11,11,12H	
		DRAW_BOX 9,10,9,11,23
		DRAW_BOX 13,10,13,11,23
		.IF (CBX == 1)
			CALL SCREEN2
		.ENDIF
	.ENDIF
	.IF (Y >= 32 && Y <= 46 && X == 13)
		DRAW_BOX 13,10,13,11,12H
		DRAW_BOX 11,10,11,11,23
		DRAW_BOX 9,10,9,11,23
		.IF (CBX==1)
			CLS_SCREEN
			MOV AH,04CH
			INT 21H
		.ENDIF
	.ENDIF

	.IF (Y >= 2 && Y <= 13 && X == 2 && CBX == 1)
		CALL SCREEN1
	.ENDIF
ENDM
NAMES MACRO
	CALL SCREEN3
ENDM